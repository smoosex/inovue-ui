{
  "$schema": "https://shadcn-vue.com/schema/registry-item.json",
  "name": "smart-search-input",
  "type": "registry:component",
  "title": "Smart Search Input",
  "description": "An advanced search input component with filter tree, multi-select, and various input types.",
  "dependencies": [
    "lucide-vue-next"
  ],
  "registryDependencies": [
    "command",
    "button",
    "badge",
    "checkbox",
    "popover",
    "scroll-area",
    "dialog"
  ],
  "files": [
    {
      "path": "registry/default/smart-search-input/SmartSearchInput.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport SmartSearchInputClassic from \"./SmartSearchInputClassic.vue\";\nimport SmartSearchInputBold from \"./SmartSearchInputBold.vue\";\nimport type { FilterOption, FilterValue } from \"./types\";\n\nconst props = defineProps<{\n  options: FilterOption[];\n  layout?: \"classic\" | \"bold\";\n}>();\n\nconst emit = defineEmits<{\n  (e: \"search\", value: FilterValue): void;\n  (e: \"loadMore\", filterKey: string): void;\n  (e: \"loadChildren\", parentId: string): void;\n}>();\n\n\nconst activeComponent = computed(() => {\n  return props.layout === \"bold\"\n    ? SmartSearchInputBold\n    : SmartSearchInputClassic;\n});\n</script>\n\n<template>\n  <component\n    :is=\"activeComponent\"\n    :options=\"options\"\n    @search=\"emit('search', $event)\"\n    @load-more=\"emit('loadMore', $event)\"\n    @load-children=\"emit('loadChildren', $event)\"\n  />\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/SmartSearchInputBold.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref, onMounted, onUnmounted } from \"vue\";\nimport { Command as CommandIcon } from \"lucide-vue-next\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  DialogDescription,\n} from \"@/components/ui/dialog\";\nimport { Command } from \"@/components/ui/command\";\n\nimport type { FilterOption, FilterValue, FilterInputType } from \"./types\";\nimport BoldFieldSelector from \"./components/BoldFieldSelector.vue\";\nimport BoldTextInput from \"./components/BoldTextInput.vue\";\nimport BoldSingleSelect from \"./components/BoldSingleSelect.vue\";\nimport BoldMultiSelect from \"./components/BoldMultiSelect.vue\";\nimport BoldTreeSelect from \"./components/BoldTreeSelect.vue\";\nimport BoldDateTimeRangeInput from \"./components/BoldDateTimeRangeInput.vue\";\n\nconst props = defineProps<{\n  options: FilterOption[];\n}>();\n\nconst emit = defineEmits<{\n  (e: \"search\", value: FilterValue): void;\n  (e: \"loadMore\", filterKey: string): void;\n  (e: \"loadChildren\", parentId: string): void;\n}>();\n\n// State\nconst isOpen = ref(false);\nconst selectedKey = ref<string | null>(null);\n\n// Computed: Find the option object reactively from props\nconst currentOption = computed(() => {\n  if (!selectedKey.value) return null;\n  return props.options.find((opt) => opt.value === selectedKey.value) || null;\n});\n\n// Helpers\nconst getInputType = (type?: FilterInputType) => {\n  if (!type || type === \"text\") return \"text\";\n  if (type === \"select\") return \"select\";\n  if (type === \"multi-select\") return \"multi-select\";\n  if (type === \"tree-multi-select\") return \"tree-multi-select\";\n  if (type === \"date-time-range\") return \"date-time-range\";\n  return \"complex\";\n};\n\n// Dynamic Component Resolution\nconst activeInputComponent = computed(() => {\n  if (!currentOption.value) return null;\n\n  const type = getInputType(currentOption.value.type);\n  switch (type) {\n    case \"text\":\n      return BoldTextInput;\n    case \"select\":\n      return BoldSingleSelect;\n    case \"multi-select\":\n      return BoldMultiSelect;\n    case \"tree-multi-select\":\n      return BoldTreeSelect;\n    case \"date-time-range\":\n      return BoldDateTimeRangeInput;\n    default:\n      return BoldTextInput;\n  }\n});\n\n// Actions\nconst openDialog = () => {\n  isOpen.value = true;\n};\n\nconst handleFieldSelect = (option: FilterOption) => {\n  selectedKey.value = option.value;\n  // Trigger loadOptions if needed\n  if (option.loadOptions) {\n    option.loadOptions();\n  }\n};\n\nconst handleSearch = (value: any) => {\n  if (!currentOption.value) return;\n\n  const finalValue = currentOption.value.formatValue\n    ? currentOption.value.formatValue(value)\n    : value;\n\n  emit(\"search\", {\n    key: currentOption.value.value,\n    value: finalValue,\n  });\n  isOpen.value = false;\n};\n\nconst handleBack = () => {\n  selectedKey.value = null;\n};\n\nconst handleLoadMore = (key: string) => {\n  emit(\"loadMore\", key);\n};\n\nconst handleLoadChildren = (parentId: string) => {\n  emit(\"loadChildren\", parentId);\n};\n\nconst handleKeyDown = (e: KeyboardEvent) => {\n  if (e.key === \"k\" && (e.metaKey || e.ctrlKey)) {\n    e.preventDefault();\n    openDialog();\n  }\n};\n\nconst handleEscape = (e: KeyboardEvent) => {\n  // If we are deep in a submenu (currentOption is set), go back instead of closing.\n  if (currentOption.value) {\n    e.preventDefault();\n    handleBack();\n  }\n};\n\nonMounted(() => {\n  document.addEventListener(\"keydown\", handleKeyDown);\n});\n\nonUnmounted(() => {\n  document.removeEventListener(\"keydown\", handleKeyDown);\n});\n</script>\n\n<template>\n  <div>\n    <!-- Trigger Capsule -->\n    <button\n      @click=\"openDialog\"\n      class=\"group flex items-center gap-2 px-3 py-1.5 rounded-full border bg-background/30 hover:bg-background/50 backdrop-blur-md text-sm text-muted-foreground transition-all duration-300 hover:w-64 w-48 shadow-sm hover:shadow-md hover:border-primary/30\"\n    >\n      <CommandIcon\n        class=\"w-3.5 h-3.5 opacity-70 group-hover:text-primary transition-colors\"\n      />\n      <span class=\"truncate\">Search...</span>\n      <kbd\n        class=\"ml-auto pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted/50 px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100 group-hover:bg-background transition-colors\"\n      >\n        <span class=\"text-xs\">âŒ˜</span>K\n      </kbd>\n    </button>\n\n    <!-- Command Palette Dialog -->\n    <Dialog v-model:open=\"isOpen\">\n      <DialogContent\n        :show-close-button=\"false\"\n        @escape-key-down=\"handleEscape\"\n        class=\"p-0\"\n        :class=\"[\n          currentOption?.type === 'date-time-range'\n            ? 'sm:max-w-182.5 sm:min-h-135'\n            : 'sm:max-w-137.5',\n        ]\"\n      >\n        <DialogTitle class=\"sr-only\">Search</DialogTitle>\n        <DialogDescription class=\"sr-only\">\n          Type to search...\n        </DialogDescription>\n\n        <Command>\n          <BoldFieldSelector\n            v-if=\"!currentOption\"\n            :options=\"props.options\"\n            @select=\"handleFieldSelect\"\n          />\n          <component\n            v-else\n            :is=\"activeInputComponent\"\n            :current-option=\"currentOption\"\n            @search=\"handleSearch\"\n            @load-more=\"handleLoadMore\"\n            @load-children=\"handleLoadChildren\"\n            @back=\"handleBack\"\n          />\n        </Command>\n      </DialogContent>\n    </Dialog>\n  </div>\n</template>\n\n<style scoped>\n/* Optional animations */\n</style>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/SmartSearchInputClassic.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref, watch } from \"vue\";\nimport { Search } from \"lucide-vue-next\";\nimport type {\n  FilterOption,\n  FilterValue,\n  FilterInputType,\n  AnyFilterValue,\n} from \"./types\";\nimport FilterInput from \"./components/FilterInput.vue\";\nimport FilterSelect from \"./components/FilterSelect.vue\";\nimport FilterMultiSelect from \"./components/FilterMultiSelect.vue\";\nimport FilterTreeSelect from \"./components/FilterTreeSelect.vue\";\nimport FilterCascadeSelect from \"./components/FilterCascadeSelect.vue\";\nimport { DateTimeRangePicker } from \"@/components/date-time-range-picker\";\n\nconst props = defineProps<{\n  options: FilterOption[];\n}>();\n\nconst emit = defineEmits<{\n  (e: \"search\", value: FilterValue): void;\n  (e: \"loadMore\", filterKey: string): void;\n  (e: \"loadChildren\", parentId: string): void;\n}>();\n\nconst selectedKey = ref(props.options[0]?.value || \"\");\nconst currentOption = computed(() =>\n  props.options.find((o) => o.value === selectedKey.value)\n);\n\nconst resolveComponent = (type?: FilterInputType) => {\n  switch (type) {\n    case \"select\":\n      return FilterSelect;\n    case \"multi-select\":\n      return FilterMultiSelect;\n    case \"tree-multi-select\":\n      return FilterTreeSelect;\n    case \"date-time-range\":\n      return DateTimeRangePicker;\n    case \"cascade-select\":\n      return FilterCascadeSelect;\n    default:\n      return FilterInput;\n  }\n};\n\n// Default value factories using Strategy Pattern\nconst defaultValueFactories: Record<FilterInputType, () => AnyFilterValue> = {\n  text: () => \"\",\n  select: () => \"\",\n  \"multi-select\": () => [],\n  \"tree-multi-select\": () => [],\n  \"date-time-range\": () => ({ from: undefined, to: undefined }),\n  \"cascade-select\": () => ({ level1: undefined, level2: undefined }),\n};\n\nconst getDefaultValue = (type?: FilterInputType): AnyFilterValue => {\n  const factory = defaultValueFactories[type || \"text\"];\n  return factory ? factory() : \"\";\n};\n\n// Initialize with correct type based on first option\nconst currentValue = ref<AnyFilterValue>(\n  getDefaultValue(props.options[0]?.type)\n);\n\n// Reset value and lazy load options when key changes\nwatch(selectedKey, async () => {\n  // Reset value based on type FIRST\n  currentValue.value = getDefaultValue(currentOption.value?.type);\n\n  // Lazy load options if available\n  if (currentOption.value?.loadOptions) {\n    await currentOption.value.loadOptions();\n  }\n});\n\n// Update selectedKey if options change and current key is invalid\nwatch(\n  () => props.options,\n  (newOptions) => {\n    if (\n      newOptions.length > 0 &&\n      !newOptions.find((o) => o.value === selectedKey.value)\n    ) {\n      selectedKey.value = newOptions[0]?.value || \"\";\n    }\n  },\n  { immediate: true }\n);\n\nconst handleSearch = () => {\n  const formatFn = currentOption.value?.formatValue;\n  const formattedValue = formatFn\n    ? formatFn(currentValue.value)\n    : currentValue.value;\n\n  emit(\"search\", {\n    key: selectedKey.value,\n    value: formattedValue,\n  });\n};\n</script>\n\n<template>\n  <div class=\"flex items-center\">\n    <Select v-model=\"selectedKey\">\n      <SelectTrigger class=\"w-50 rounded-r-none border-r-0 focus:ring-0\">\n        <SelectValue placeholder=\"Select column\" />\n      </SelectTrigger>\n      <SelectContent>\n        <SelectItem\n          v-for=\"option in options\"\n          :key=\"option.value\"\n          :value=\"option.value\"\n        >\n          {{ option.label }}\n        </SelectItem>\n      </SelectContent>\n    </Select>\n\n    <component\n      :is=\"resolveComponent(currentOption?.type)\"\n      :model-value=\"currentValue as any\"\n      @update:model-value=\"(val: any) => (currentValue = val)\"\n      :options=\"currentOption?.options\"\n      :level1-options=\"currentOption?.options\"\n      :placeholder=\"currentOption?.placeholder\"\n      :total=\"currentOption?.total\"\n      :current-page=\"currentOption?.currentPage\"\n      :page-size=\"currentOption?.pageSize\"\n      :level1-label=\"currentOption?.level1Label\"\n      :level2-label=\"currentOption?.level2Label\"\n      :load-children=\"currentOption?.loadChildren\"\n      class=\"rounded-none border\"\n      @search=\"handleSearch\"\n      @load-more=\"currentOption?.loadMore?.()\"\n      @load-children=\"emit('loadChildren', $event)\"\n      :id=\"currentOption?.label\"\n    />\n\n    <Button\n      size=\"icon\"\n      variant=\"outline\"\n      class=\"rounded-l-none border-l-0 bg-transparent\"\n      @click=\"handleSearch\"\n    >\n      <Search class=\"h-4 w-4\" />\n    </Button>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/types.ts",
      "content": "import type { DateTimeRange } from \"@/components/date-time-range-picker\";\n\nexport type SelectOption = {\n  label: string;\n  value: string | number;\n  id?: string; // province id\n  children?: SelectOption[];\n  childrenSize?: number;\n};\n\nexport type FilterInputType =\n  | \"text\"\n  | \"select\"\n  | \"multi-select\"\n  | \"tree-multi-select\"\n  | \"date-time-range\"\n  | \"cascade-select\";\n\nexport type CascadeValue = {\n  level1?: string;\n  level2?: string;\n};\n\nexport type FilterInputValueMap = {\n  text: string;\n  select: string | number;\n  \"multi-select\": (string | number)[];\n  \"tree-multi-select\": (string | number)[];\n  \"date-time-range\": DateTimeRange;\n  \"cascade-select\": CascadeValue;\n};\n\nexport type AnyFilterValue = FilterInputValueMap[keyof FilterInputValueMap];\n\nexport type FilterOption = {\n  label: string;\n  value: string;\n  type?: FilterInputType;\n  options?: SelectOption[];\n  placeholder?: string;\n  total?: number;\n  currentPage?: number;\n  pageSize?: number;\n  formatValue?: (value: any) => any;\n  // For advanced filter in advancedSearch\n  formatValueAdvanced?: (value: any) => any;\n  // For cascade-select\n  level1Label?: string;\n  level2Label?: string;\n  // Lazy loading callback - called when field is selected/mounted\n  loadOptions?: () => Promise<void>;\n  // Pagination callback\n  loadMore?: () => Promise<void>;\n  // Cascade select children loader\n  loadChildren?: (parentId: string) => Promise<SelectOption[]>;\n};\n\nexport type FilterValue<T = AnyFilterValue> = {\n  key: string;\n  value: T;\n};\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/index.ts",
      "content": "export { default as SmartSearchInput } from \"./SmartSearchInput.vue\";\nexport * from \"./types\";\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/BoldFieldSelector.vue",
      "content": "<script setup lang=\"ts\">\nimport { Settings2 } from \"lucide-vue-next\";\nimport {\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandEmpty,\n} from \"@/components/ui/command\";\nimport type { FilterOption } from \"../types\";\n\nconst props = defineProps<{\n  options: FilterOption[];\n}>();\n\nconst emit = defineEmits<{\n  (e: \"select\", option: FilterOption): void;\n}>();\n</script>\n\n<template>\n  <div class=\"flex flex-col h-full\">\n    <CommandInput\n      placeholder=\"Search fields...\"\n      id=\"bold-asset-search-input\"\n    />\n    <CommandList>\n      <CommandEmpty>No results</CommandEmpty>\n      <CommandGroup heading=\"Suggestions\">\n        <CommandItem\n          v-for=\"option in props.options\"\n          :key=\"option.value\"\n          :value=\"option.label\"\n          @select=\"emit('select', option)\"\n          class=\"cursor-pointer\"\n        >\n          <div class=\"flex items-center gap-2 w-full\">\n            <Settings2 class=\"h-4 w-4 text-muted-foreground\" />\n            <span>{{ option.label }}</span>\n            <span class=\"ml-auto text-xs text-muted-foreground opacity-50\">{{\n              option.type\n            }}</span>\n          </div>\n        </CommandItem>\n      </CommandGroup>\n    </CommandList>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/BoldMultiSelect.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport { ArrowLeft, Settings2, Check, X, Loader2 } from \"lucide-vue-next\";\nimport {\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandEmpty,\n} from \"@/components/ui/command\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport type { FilterOption } from \"../types\";\n\nconst props = defineProps<{\n  currentOption: FilterOption;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"search\", value: any): void;\n  (e: \"back\"): void;\n  (e: \"loadMore\", key: string): void;\n}>();\n\n// State\nconst selectedValues = ref<Set<string | number>>(new Set());\nconst isLoadingMore = ref(false);\n\n// Helper to get label for selected value\nconst getOptionLabel = (val: string | number) => {\n  if (!props.currentOption.options) return val;\n  const found = props.currentOption.options.find((opt) => opt.value === val);\n  return found ? found.label : val;\n};\n\nconst handleSelectOption = (value: string | number) => {\n  // Toggle logic\n  if (selectedValues.value.has(value)) {\n    selectedValues.value.delete(value);\n  } else {\n    selectedValues.value.add(value);\n  }\n};\n\nconst handleSearch = () => {\n  const rawValue = Array.from(selectedValues.value);\n  emit(\"search\", rawValue);\n};\n\nconst removeTag = (value: string | number) => {\n  selectedValues.value.delete(value);\n};\n\nconst canLoadMore = computed(() => {\n  const opt = props.currentOption;\n  if (!opt || !opt.loadMore) return false;\n  if (typeof opt.total === \"number\" && opt.currentPage && opt.pageSize) {\n    return opt.currentPage * opt.pageSize < opt.total;\n  }\n  return true;\n});\n\nconst handleLoadMore = async () => {\n  if (isLoadingMore.value) return;\n  isLoadingMore.value = true;\n  try {\n    if (props.currentOption.loadMore) {\n      await props.currentOption.loadMore();\n    }\n    emit(\"loadMore\", props.currentOption.value);\n  } finally {\n    isLoadingMore.value = false;\n  }\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col h-full\">\n    <!-- Header -->\n    <div\n      class=\"flex items-center border-b px-2 min-h-12 shrink-0 gap-1 bg-muted/20 flex-wrap py-1\"\n    >\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        class=\"h-7 w-7 rounded-sm shrink-0\"\n        @click=\"emit('back')\"\n      >\n        <ArrowLeft class=\"h-4 w-4\" />\n      </Button>\n      <!-- Field Badge -->\n      <div\n        class=\"px-2 py-1 rounded bg-primary/20 text-primary text-xs font-medium flex items-center gap-1 shrink-0\"\n      >\n        <Settings2 class=\"h-3 w-3\" />\n        {{ currentOption.label }}\n      </div>\n\n      <!-- Multi-Select Input Area -->\n      <div class=\"flex flex-1 items-center flex-wrap gap-1 ml-1\">\n        <Badge\n          v-for=\"val in selectedValues\"\n          :key=\"val\"\n          variant=\"secondary\"\n          class=\"h-6 gap-1 px-1.5 font-normal text-xs\"\n        >\n          {{ getOptionLabel(val) }}\n          <div @click.stop=\"removeTag(val)\">\n            <X\n              class=\"h-3.5 w-3.5 opacity-50 hover:opacity-100 cursor-pointer ml-1 transition-opacity\"\n            />\n          </div>\n        </Badge>\n        <CommandInput\n          :id=\"`search-select-${currentOption.value}`\"\n          :name=\"`search-select-${currentOption.value}`\"\n          class=\"border-none focus:ring-0 h-9 min-w-[120px] flex-1 border-0 shadow-none px-1\"\n          :placeholder=\"'Filter...'\"\n        />\n      </div>\n    </div>\n\n    <!-- Options List -->\n    <CommandList>\n      <CommandEmpty>No options</CommandEmpty>\n      <CommandGroup heading=\"Options\">\n        <CommandItem\n          v-for=\"opt in currentOption.options || []\"\n          :key=\"opt.value\"\n          :value=\"opt.label\"\n          @select=\"handleSelectOption(opt.value)\"\n          class=\"cursor-pointer\"\n        >\n          <div class=\"flex items-center justify-between w-full\">\n            <span>{{ opt.label }}</span>\n            <Check\n              v-if=\"selectedValues.has(opt.value)\"\n              class=\"h-4 w-4 text-primary\"\n            />\n          </div>\n        </CommandItem>\n        <!-- Load More Item -->\n        <CommandItem\n          v-if=\"canLoadMore\"\n          value=\"...load more...\"\n          @select=\"handleLoadMore\"\n          class=\"justify-center text-muted-foreground cursor-pointer\"\n        >\n          <Loader2 v-if=\"isLoadingMore\" class=\"h-4 w-4 animate-spin mr-2\" />\n          <span v-else>Load more</span>\n        </CommandItem>\n      </CommandGroup>\n    </CommandList>\n\n    <!-- Footer for Multi-Select: Apply Button -->\n    <div\n      v-if=\"selectedValues.size > 0\"\n      class=\"p-2 border-t bg-muted/10 flex justify-end gap-2\"\n    >\n      <div class=\"flex items-center text-xs text-muted-foreground mr-auto px-2\">\n        {{ selectedValues.size }} selected\n      </div>\n      <Button size=\"sm\" variant=\"default\" @click=\"handleSearch\">\n        Apply\n      </Button>\n    </div>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/BoldSingleSelect.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport { ArrowLeft, Settings2, Loader2 } from \"lucide-vue-next\";\nimport {\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandEmpty,\n} from \"@/components/ui/command\";\nimport { Button } from \"@/components/ui/button\";\nimport type { FilterOption } from \"../types\";\n\nconst props = defineProps<{\n  currentOption: FilterOption;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"search\", value: any): void;\n  (e: \"back\"): void;\n  (e: \"loadMore\", key: string): void;\n}>();\n\nconst isLoadingMore = ref(false);\n\nconst handleSelectOption = (value: string | number) => {\n  // Single select: immediate emit\n  emit(\"search\", value);\n};\n\nconst canLoadMore = computed(() => {\n  const opt = props.currentOption;\n  if (!opt || !opt.loadMore) return false;\n  if (typeof opt.total === \"number\" && opt.currentPage && opt.pageSize) {\n    return opt.currentPage * opt.pageSize < opt.total;\n  }\n  return true;\n});\n\nconst handleLoadMore = async () => {\n  if (isLoadingMore.value) return;\n  isLoadingMore.value = true;\n  try {\n    if (props.currentOption.loadMore) {\n      await props.currentOption.loadMore();\n    }\n    emit(\"loadMore\", props.currentOption.value);\n  } finally {\n    isLoadingMore.value = false;\n  }\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col h-full\">\n    <!-- Header -->\n    <div\n      class=\"flex items-center border-b px-2 min-h-12 shrink-0 gap-1 bg-muted/20 flex-wrap py-1\"\n    >\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        class=\"h-7 w-7 rounded-sm shrink-0\"\n        @click=\"emit('back')\"\n      >\n        <ArrowLeft class=\"h-4 w-4\" />\n      </Button>\n      <!-- Field Badge -->\n      <div\n        class=\"px-2 py-1 rounded bg-primary/20 text-primary text-xs font-medium flex items-center gap-1 shrink-0\"\n      >\n        <Settings2 class=\"h-3 w-3\" />\n        {{ currentOption.label }}\n      </div>\n\n      <!-- Single Select Input Area -->\n      <CommandInput\n        :id=\"`search-select-${currentOption.value}`\"\n        :name=\"`search-select-${currentOption.value}`\"\n        class=\"border-none focus:ring-0 h-11 flex-1\"\n        :placeholder=\"'Filter options...'\"\n      />\n    </div>\n\n    <!-- Options List -->\n    <CommandList>\n      <CommandEmpty>No options</CommandEmpty>\n      <CommandGroup heading=\"Options\">\n        <CommandItem\n          v-for=\"opt in currentOption.options || []\"\n          :key=\"opt.value\"\n          :value=\"opt.label\"\n          @select=\"handleSelectOption(opt.value)\"\n          class=\"cursor-pointer\"\n        >\n          <span>{{ opt.label }}</span>\n        </CommandItem>\n        <!-- Load More Item -->\n        <CommandItem\n          v-if=\"canLoadMore\"\n          value=\"...load more...\"\n          @select=\"handleLoadMore\"\n          class=\"justify-center text-muted-foreground cursor-pointer\"\n        >\n          <Loader2 v-if=\"isLoadingMore\" class=\"h-4 w-4 animate-spin mr-2\" />\n          <span v-else>Load more</span>\n        </CommandItem>\n      </CommandGroup>\n    </CommandList>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/BoldTreeSelect.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport { ArrowLeft, Settings2, X } from \"lucide-vue-next\";\nimport {\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n} from \"@/components/ui/command\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport BoldTreeOption from \"./BoldTreeOption.vue\";\nimport type { FilterOption, SelectOption } from \"../types\";\n\nconst props = defineProps<{\n  currentOption: FilterOption;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"search\", value: any): void;\n  (e: \"back\"): void;\n  (e: \"loadChildren\", parentId: string): void;\n}>();\n\n// --- State ---\nconst selectedValues = ref<Set<string | number>>(new Set());\nconst expandedNodes = ref<Set<string | number>>(new Set());\nconst loadingNodes = ref<Set<string>>(new Set());\n\n// --- The Brain: O(1) Lookups ---\nconst itemMap = computed(() => {\n  const map = new Map<string, SelectOption>();\n  const parentMap = new Map<string, SelectOption | null>();\n\n  const traverse = (opts: SelectOption[], parent: SelectOption | null) => {\n    opts.forEach((opt) => {\n      const key = String(opt.value);\n      map.set(key, opt);\n      parentMap.set(key, parent);\n      if (opt.children) {\n        traverse(opt.children, opt);\n      }\n    });\n  };\n  traverse(props.currentOption.options || [], null);\n  return { map, parentMap };\n});\n\n// --- Logic: Selection with Cascade ---\nconst handleToggleSelect = (val: string | number) => {\n  const strVal = String(val);\n  const { map, parentMap } = itemMap.value;\n  const targetNode = map.get(strVal);\n\n  if (!targetNode) return;\n\n  // Determine intent: If currently NOT selected, we want to SELECT.\n  // Note: If checking \"Is Selected\", we need to check if selectedValues has it.\n  const isSelecting = !selectedValues.value.has(val);\n\n  // 1. Downward Cascade (Select/Deselect all descendants)\n  const updateDescendants = (node: SelectOption, select: boolean) => {\n    if (select) selectedValues.value.add(node.value);\n    else selectedValues.value.delete(node.value);\n\n    if (node.children) {\n      node.children.forEach((child) => updateDescendants(child, select));\n    }\n  };\n  updateDescendants(targetNode, isSelecting);\n\n  // 2. Upward Cascade (Update ancestors based on siblings)\n  let currentNode = targetNode;\n  while (true) {\n    const parent = parentMap.get(String(currentNode.value));\n    if (!parent) break;\n\n    const siblings = parent.children || [];\n    // Check if ALL siblings are selected\n    const allSiblingsSelected = siblings.every((sib) =>\n      selectedValues.value.has(sib.value)\n    );\n\n    if (allSiblingsSelected) {\n      selectedValues.value.add(parent.value);\n    } else {\n      selectedValues.value.delete(parent.value);\n    }\n\n    currentNode = parent;\n  }\n\n  // Force reactivity (Vue 3 Set is reactive, but explicit assignment ensures deep watchers trigger if any)\n  selectedValues.value = new Set(selectedValues.value);\n};\n\n// --- Logic: Expansion & Lazy Loading ---\nconst handleToggleExpand = async (val: string | number) => {\n  const strVal = String(val);\n\n  // Toggle State\n  if (expandedNodes.value.has(val)) {\n    expandedNodes.value.delete(val);\n  } else {\n    expandedNodes.value.add(val);\n\n    // Lazy Loading Check\n    const node = itemMap.value.map.get(strVal);\n    if (node && (!node.children || node.children.length === 0)) {\n      // If we have a loadChildren callback and no children, try loading\n      if (props.currentOption.loadChildren) {\n        loadingNodes.value.add(strVal);\n        try {\n          await props.currentOption.loadChildren(strVal);\n          // Note: We count on reactivity of props.currentOption.options updating the tree\n          // which will update itemMap automatically.\n        } finally {\n          loadingNodes.value.delete(strVal);\n        }\n      }\n    }\n  }\n  // Force reactivity\n  expandedNodes.value = new Set(expandedNodes.value);\n};\n\n// --- Helpers ---\nconst getOptionLabel = (val: string | number) => {\n  return itemMap.value.map.get(String(val))?.label || val;\n};\n\nconst removeTag = (value: string | number) => {\n  handleToggleSelect(value); // Deselecting via tag behaves same as clicking row to OFF\n};\n\nconst handleSearch = () => {\n  const rawValue = Array.from(selectedValues.value);\n  emit(\"search\", rawValue);\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col h-full\">\n    <!-- Header -->\n    <div\n      class=\"flex items-center border-b px-2 min-h-12 shrink-0 gap-1 bg-muted/20 flex-wrap py-1\"\n    >\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        class=\"h-7 w-7 rounded-sm shrink-0\"\n        @click=\"emit('back')\"\n      >\n        <ArrowLeft class=\"h-4 w-4\" />\n      </Button>\n      <!-- Field Badge -->\n      <div\n        class=\"px-2 py-1 rounded bg-primary/20 text-primary text-xs font-medium flex items-center gap-1 shrink-0\"\n      >\n        <Settings2 class=\"h-3 w-3\" />\n        {{ currentOption.label }}\n      </div>\n\n      <!-- Tag Area -->\n      <div class=\"flex flex-1 items-center flex-wrap gap-1 ml-1\">\n        <Badge\n          v-for=\"val in selectedValues\"\n          :key=\"val\"\n          variant=\"secondary\"\n          class=\"h-6 gap-1 px-1.5 font-normal text-xs\"\n        >\n          {{ getOptionLabel(val) }}\n          <div @click.stop=\"removeTag(val)\">\n            <X\n              class=\"h-3.5 w-3.5 opacity-50 hover:opacity-100 cursor-pointer ml-1 transition-opacity\"\n            />\n          </div>\n        </Badge>\n        <CommandInput\n          :id=\"`search-tree-${currentOption.value}`\"\n          :name=\"`search-tree-${currentOption.value}`\"\n          class=\"border-none focus:ring-0 h-9 min-w-[120px] flex-1 border-0 shadow-none px-1\"\n          :placeholder=\"'Filter nodes...'\"\n        />\n      </div>\n    </div>\n\n    <!-- Tree List -->\n    <CommandList>\n      <CommandEmpty>No nodes</CommandEmpty>\n      <CommandGroup>\n        <BoldTreeOption\n          v-for=\"opt in currentOption.options || []\"\n          :key=\"opt.value\"\n          :option=\"opt\"\n          :selected-values=\"selectedValues\"\n          :expanded-nodes=\"expandedNodes\"\n          :loading-nodes=\"loadingNodes\"\n          @toggle-select=\"handleToggleSelect\"\n          @toggle-expand=\"handleToggleExpand\"\n        />\n      </CommandGroup>\n    </CommandList>\n\n    <!-- Footer -->\n    <div\n      v-if=\"selectedValues.size > 0\"\n      class=\"p-2 border-t bg-muted/10 flex justify-end gap-2\"\n    >\n      <div class=\"flex items-center text-xs text-muted-foreground mr-auto px-2\">\n        {{ selectedValues.size }} selected\n      </div>\n      <Button size=\"sm\" variant=\"default\" @click=\"handleSearch\">\n        Apply\n      </Button>\n    </div>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/BoldTreeOption.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed } from \"vue\";\nimport { ChevronRight, ChevronDown, Loader2 } from \"lucide-vue-next\";\nimport type { SelectOption } from \"../types\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\n\nconst props = defineProps<{\n  option: SelectOption;\n  selectedValues: Set<string | number>;\n  expandedNodes: Set<string | number>;\n  loadingNodes?: Set<string>;\n  level?: number;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"toggle-select\", value: string | number): void;\n  (e: \"toggle-expand\", value: string | number): void;\n}>();\n\nconst currentLevel = props.level || 0;\n\nconst isSelected = computed(() => props.selectedValues.has(props.option.value));\nconst isExpanded = computed(() => props.expandedNodes.has(props.option.value));\nconst isLoading = computed(() =>\n  props.loadingNodes?.has(String(props.option.value))\n);\n\nconst showExpand = computed(() => {\n  return (\n    (props.option.children && props.option.children.length > 0) ||\n    isLoading.value\n  );\n});\n\nconst onRowClick = () => {\n  emit(\"toggle-select\", props.option.value);\n};\n\nconst onExpandClick = () => {\n  emit(\"toggle-expand\", props.option.value);\n};\n</script>\n\n<template>\n  <div>\n    <div\n      class=\"flex items-center py-2 px-2 hover:bg-muted/50 cursor-pointer group transition-colors select-none\"\n      :style=\"{ paddingLeft: `${currentLevel * 16 + 8}px` }\"\n      @click.stop=\"onRowClick\"\n    >\n      <button\n        class=\"mr-1 h-5 w-5 shrink-0 rounded-sm hover:bg-muted flex items-center justify-center p-0 text-muted-foreground hover:text-foreground transition-colors\"\n        @click.stop=\"onExpandClick\"\n      >\n        <Loader2 v-if=\"isLoading\" class=\"h-3.5 w-3.5 animate-spin\" />\n        <template v-else-if=\"showExpand\">\n          <ChevronDown v-if=\"isExpanded\" class=\"h-4 w-4\" />\n          <ChevronRight v-else class=\"h-4 w-4\" />\n        </template>\n        <span v-else class=\"w-4\"></span>\n      </button>\n\n      <Checkbox\n        :model-value=\"isSelected\"\n        class=\"mr-2 pointer-events-none\"\n        tabindex=\"-1\"\n      />\n      <span class=\"text-sm truncate\">\n        {{ option.label }}\n      </span>\n    </div>\n\n    <!-- Recursive Children -->\n    <div v-show=\"isExpanded && option.children && option.children.length > 0\">\n      <BoldTreeOption\n        v-for=\"child in option.children\"\n        :key=\"child.value\"\n        :option=\"child\"\n        :selected-values=\"selectedValues\"\n        :expanded-nodes=\"expandedNodes\"\n        :loading-nodes=\"loadingNodes\"\n        :level=\"currentLevel + 1\"\n        @toggle-select=\"emit('toggle-select', $event)\"\n        @toggle-expand=\"emit('toggle-expand', $event)\"\n      />\n    </div>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/BoldTextInput.vue",
      "content": "<script setup lang=\"ts\">\nimport { ref, onMounted } from \"vue\";\nimport { ArrowLeft, Settings2 } from \"lucide-vue-next\";\nimport { Button } from \"@/components/ui/button\";\nimport type { FilterOption } from \"../types\";\n\nconst props = defineProps<{\n  currentOption: FilterOption;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"search\", value: string): void;\n  (e: \"back\"): void;\n}>();\n\nconst inputValue = ref(\"\");\nconst inputRef = ref<HTMLInputElement | null>(null); // Use useTemplateRef in Vue 3.5+, keeping ref for now\n\n// Focus on mount\nonMounted(() => {\n  inputRef.value?.focus();\n});\n\nconst handleSearch = () => {\n  if (!inputValue.value) return;\n  emit(\"search\", inputValue.value);\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col h-full\">\n    <!-- Header -->\n    <div\n      class=\"flex items-center border-b px-2 min-h-12 shrink-0 gap-1 bg-muted/20 flex-wrap py-1\"\n    >\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        class=\"h-7 w-7 rounded-sm shrink-0\"\n        @click=\"emit('back')\"\n      >\n        <ArrowLeft class=\"h-4 w-4\" />\n      </Button>\n      <!-- Field Badge -->\n      <div\n        class=\"px-2 py-1 rounded bg-primary/20 text-primary text-xs font-medium flex items-center gap-1 shrink-0\"\n      >\n        <Settings2 class=\"h-3 w-3\" />\n        {{ currentOption.label }}\n      </div>\n\n      <!-- Text Input -->\n      <input\n        ref=\"inputRef\"\n        v-model=\"inputValue\"\n        :id=\"`search-input-${currentOption.value}`\"\n        :name=\"`search-input-${currentOption.value}`\"\n        class=\"flex h-11 flex-1 rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground ml-2 min-w-[100px]\"\n        :placeholder=\"'Enter value...'\"\n        @keydown.enter=\"handleSearch\"\n      />\n    </div>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/BoldDateTimeRangeInput.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref, watch } from \"vue\";\nimport {\n  ArrowLeft,\n  Settings2,\n  Calendar as CalendarIcon,\n  Check as CheckIcon,\n  ChevronRight,\n} from \"lucide-vue-next\";\nimport { Button } from \"@/components/ui/button\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { RangeCalendar } from \"@/components/ui/range-calendar\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  endOfDay,\n  endOfMonth,\n  endOfWeek,\n  format,\n  isEqual,\n  isValid,\n  startOfDay,\n  startOfMonth,\n  startOfWeek,\n  subDays,\n  subMonths,\n} from \"date-fns\";\nimport { enUS, zhCN, type Locale } from \"date-fns/locale\";\nimport { CalendarDate, type DateValue } from \"@internationalized/date\";\nimport { toDate } from \"reka-ui/date\";\nimport type { DateRange as RekaDateRange } from \"reka-ui\";\nimport type {\n  DateTimeRange,\n  Preset,\n} from \"@/components/date-time-range-picker//types\";\nimport DateTimeInput from \"@/components/date-time-range-picker/DateTimeInput.vue\";\nimport type { FilterOption } from \"../types\";\n\nconst props = defineProps<{\n  currentOption: FilterOption;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"search\", value: any): void;\n  (e: \"back\"): void;\n}>();\n\nconst locale = ref<string>(\"en\");\n\nconst currentLocale = computed<Locale>(() => {\n  return locale.value === \"zhHans\" ? zhCN : enUS;\n});\n\nconst PRESETS: Preset[] = [\n  { name: \"today\", label: \"Today\" },\n  { name: \"yesterday\", label: \"Yesterday\" },\n  { name: \"last7\", label: \"Last 7 days\" },\n  { name: \"last30\", label: \"Last 30 days\" },\n  { name: \"thisMonth\", label: \"This Month\" },\n  { name: \"lastMonth\", label: \"Last Month\" },\n];\n\nconst range = ref<DateTimeRange>({\n  from: undefined,\n  to: undefined,\n});\n\nconst selectedPreset = ref<string | undefined>(undefined);\n\nconst dateToDateValue = (date: Date): DateValue => {\n  return new CalendarDate(\n    date.getFullYear(),\n    date.getMonth() + 1,\n    date.getDate()\n  );\n};\n\nconst dateValueToDate = (dateValue: DateValue): Date => {\n  return toDate(dateValue);\n};\n\nconst calendarRange = computed<RekaDateRange>({\n  get: () => ({\n    start: range.value.from\n      ? dateToDateValue(range.value.from)\n      : dateToDateValue(new Date()),\n    end: range.value.to ? dateToDateValue(range.value.to) : undefined,\n  }),\n  set: (newVal) => {\n    if (newVal.start) {\n      range.value = {\n        from: dateValueToDate(newVal.start as DateValue),\n        to: newVal.end ? dateValueToDate(newVal.end as DateValue) : undefined,\n      };\n    }\n  },\n});\n\nconst getPresetRange = (presetName: string): DateTimeRange => {\n  const now = new Date();\n  const today = startOfDay(now);\n  const endToday = endOfDay(now);\n\n  switch (presetName) {\n    case \"today\":\n      return { from: today, to: endToday };\n    case \"yesterday\": {\n      const yesterday = subDays(today, 1);\n      return { from: yesterday, to: endOfDay(yesterday) };\n    }\n    case \"last7\":\n      return { from: subDays(today, 6), to: endToday };\n    case \"last14\":\n      return { from: subDays(today, 13), to: endToday };\n    case \"last30\":\n      return { from: subDays(today, 29), to: endToday };\n    case \"thisWeek\":\n      return {\n        from: startOfWeek(today, { weekStartsOn: 0 }),\n        to: endToday,\n      };\n    case \"lastWeek\": {\n      const lastWeekStart = startOfWeek(subDays(today, 7), { weekStartsOn: 0 });\n      const lastWeekEnd = endOfWeek(lastWeekStart, { weekStartsOn: 0 });\n      return { from: lastWeekStart, to: lastWeekEnd };\n    }\n    case \"thisMonth\":\n      return { from: startOfMonth(today), to: endToday };\n    case \"lastMonth\": {\n      const lastMonth = subMonths(today, 1);\n      return { from: startOfMonth(lastMonth), to: endOfMonth(lastMonth) };\n    }\n    default:\n      throw new Error(`Unknown date range preset: ${presetName}`);\n  }\n};\n\nconst setPreset = (preset: string) => {\n  const newRange = getPresetRange(preset);\n  range.value = newRange;\n  selectedPreset.value = preset;\n  calendarRange.value = {\n    start: newRange.from\n      ? dateToDateValue(newRange.from)\n      : dateToDateValue(new Date()),\n    end: newRange.to ? dateToDateValue(newRange.to) : undefined,\n  };\n};\n\nconst checkPreset = () => {\n  if (!range.value.from || !range.value.to) return;\n\n  for (const preset of PRESETS) {\n    const presetRange = getPresetRange(preset.name);\n    if (\n      isEqual(startOfDay(range.value.from), startOfDay(presetRange.from!)) &&\n      isEqual(endOfDay(range.value.to), endOfDay(presetRange.to!))\n    ) {\n      selectedPreset.value = preset.name;\n      return;\n    }\n  }\n  selectedPreset.value = undefined;\n};\n\nwatch(range, checkPreset, { deep: true, immediate: true });\n\nconst handleFromDateTimeChange = (date: Date | undefined) => {\n  if (!date) return;\n  range.value = { ...range.value, from: date };\n};\n\nconst handleToDateTimeChange = (date: Date | undefined) => {\n  if (!date) return;\n  range.value = { ...range.value, to: date };\n};\n\nconst formatDisplayDate = (date: Date | undefined) => {\n  if (!date || !isValid(date)) return \"-\";\n  return format(date, \"MMM dd, HH:mm\", { locale: currentLocale.value });\n};\n\nconst handleSearch = () => {\n  emit(\"search\", range.value);\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col h-full overflow-hidden\">\n    <!-- Header -->\n    <div\n      class=\"flex items-center border-b px-2 min-h-12 shrink-0 gap-1 bg-muted/20 flex-wrap py-1\"\n    >\n      <Button\n        variant=\"ghost\"\n        size=\"icon\"\n        class=\"h-7 w-7 rounded-sm shrink-0\"\n        @click=\"emit('back')\"\n      >\n        <ArrowLeft class=\"h-4 w-4\" />\n      </Button>\n      <!-- Field Badge -->\n      <div\n        class=\"px-2 py-1 rounded bg-primary/20 text-primary text-xs font-medium flex items-center gap-1 shrink-0\"\n      >\n        <Settings2 class=\"h-3 w-3\" />\n        {{ currentOption.label }}\n      </div>\n\n      <!-- Current Range Text -->\n      <div\n        class=\"ml-2 flex items-center gap-2 text-xs text-muted-foreground bg-background/40 backdrop-blur-md border border-white/10 px-2 py-1 rounded-md shadow-sm\"\n      >\n        <CalendarIcon class=\"h-3.5 w-3.5\" />\n        <span :class=\"{ 'text-foreground font-medium': range.from }\">{{\n          formatDisplayDate(range.from)\n        }}</span>\n        <ArrowLeft class=\"h-3 w-3 rotate-180\" />\n        <span :class=\"{ 'text-foreground font-medium': range.to }\">{{\n          formatDisplayDate(range.to)\n        }}</span>\n      </div>\n    </div>\n\n    <!-- Body: Two Columns -->\n    <div class=\"flex flex-1 overflow-hidden\">\n      <!-- Left: Calendar & Time -->\n      <div class=\"flex-1 flex flex-col p-4 overflow-y-auto items-center\">\n         <div class=\"border border-white/10 rounded-md bg-transparent backdrop-blur-lg shadow-sm mb-4\">\n          <RangeCalendar\n            v-model=\"calendarRange\"\n            :number-of-months=\"2\"\n            class=\"p-2\"\n          />\n        </div>\n\n        <div class=\"flex items-center px-6 justify-center mt-2\">\n          <DateTimeInput\n            :model-value=\"range.from\"\n            @update:model-value=\"handleFromDateTimeChange\"\n            :label=\"'Start'\"\n          />\n          <ChevronRight class=\"h-4 w-4 text-muted-foreground mt-4 opacity-50\" />\n          <DateTimeInput\n            :model-value=\"range.to\"\n            @update:model-value=\"handleToDateTimeChange\"\n            :label=\"'End'\"\n          />\n        </div>\n      </div>\n\n      <!-- Right: Presets -->\n      <div class=\"w-36 border-l bg-muted/5 flex flex-col\">\n        <div class=\"p-2 text-xs font-medium text-muted-foreground border-b\">\n          Presets\n        </div>\n        <ScrollArea class=\"flex-1\">\n          <div class=\"p-2 space-y-1\">\n            <Button\n              v-for=\"preset in PRESETS\"\n              :key=\"preset.name\"\n              variant=\"ghost\"\n              size=\"sm\"\n              :class=\"\n                cn(\n                  'w-full justify-start h-8 text-xs font-normal',\n                  selectedPreset === preset.name && 'bg-primary/10 text-primary'\n                )\n              \"\n              @click=\"setPreset(preset.name)\"\n            >\n              <CheckIcon\n                class=\"mr-2 h-3.5 w-3.5 transition-opacity\"\n                :class=\"\n                  selectedPreset === preset.name ? 'opacity-100' : 'opacity-0'\n                \"\n              />\n              {{ preset.label }}\n            </Button>\n          </div>\n        </ScrollArea>\n      </div>\n    </div>\n\n    <!-- Footer -->\n    <div class=\"p-2 border-t bg-muted/10 flex justify-end gap-2 shrink-0\">\n      <Button\n        size=\"sm\"\n        variant=\"default\"\n        @click=\"handleSearch\"\n        :disabled=\"!range.from || !range.to\"\n      >\n        Apply\n      </Button>\n    </div>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/FilterInput.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, useAttrs } from \"vue\";\nimport { X } from \"lucide-vue-next\";\nimport { Input } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nconst attrs = useAttrs();\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\nconst props = defineProps<{\n  placeholder?: string;\n  id?: string;\n}>();\n\nconst inputId =\n  props.id || `filter-input-${Math.random().toString(36).slice(2)}`;\n\nconst modelValue = defineModel<string>({ required: true });\n\nconst emit = defineEmits<{\n  (e: \"search\"): void;\n}>();\n\nconst handleClear = () => {\n  modelValue.value = \"\";\n  emit(\"search\");\n};\n\nconst inputClass = computed(() =>\n  cn(\n    \"w-50 rounded-none focus-visible:ring-0 focus-visible:ring-offset-0\",\n    attrs.class as string\n  )\n);\n</script>\n\n<template>\n  <div class=\"relative flex items-center flex-1\">\n    <Input\n      :id=\"inputId\"\n      v-model=\"modelValue\"\n      :placeholder=\"placeholder || 'Search'\"\n      :class=\"inputClass\"\n      @keyup.enter=\"emit('search')\"\n    />\n    <button\n      v-if=\"modelValue\"\n      @click=\"handleClear\"\n      class=\"absolute right-2 text-muted-foreground hover:text-foreground\"\n    >\n      <X class=\"h-4 w-4\" />\n    </button>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/FilterSelect.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, useAttrs } from \"vue\";\nimport type { SelectOption } from \"../types\";\nimport {\n  Select,\n  SelectTrigger,\n  SelectValue,\n  SelectContent,\n  SelectItem,\n} from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nconst attrs = useAttrs();\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\ndefineProps<{\n  options?: SelectOption[];\n  placeholder?: string;\n}>();\n\nconst modelValue = defineModel<string | number>();\n\nconst emit = defineEmits<{\n  (e: \"search\"): void;\n}>();\n\n// Auto-trigger search on change\nconst handleChange = (val: any) => {\n  modelValue.value = val || \"\";\n  emit(\"search\");\n};\n\nconst triggerClass = computed(() =>\n  cn(\"w-50 rounded-none border focus:ring-0\", attrs.class as string)\n);\n</script>\n\n<template>\n  <Select\n    :model-value=\"String(modelValue || '')\"\n    @update:model-value=\"handleChange\"\n  >\n    <SelectTrigger :class=\"triggerClass\">\n      <SelectValue\n        :placeholder=\"placeholder || 'Select'\"\n      />\n    </SelectTrigger>\n    <SelectContent>\n      <SelectItem\n        v-for=\"option in options\"\n        :key=\"option.value\"\n        :value=\"String(option.value)\"\n      >\n        {{ option.label }}\n      </SelectItem>\n    </SelectContent>\n  </Select>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/FilterMultiSelect.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref, useAttrs } from \"vue\";\nimport { Check, ChevronsUpDown } from \"lucide-vue-next\";\nimport type { SelectOption } from \"../types\";\nimport { cn } from \"@/lib/utils\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n  CommandSeparator,\n} from \"@/components/ui/command\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { useVirtualList } from \"@vueuse/core\";\n\nconst attrs = useAttrs();\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\nconst props = withDefaults(\n  defineProps<{\n    options?: SelectOption[];\n    placeholder?: string;\n    id?: string;\n    total?: number;\n    currentPage?: number;\n    pageSize?: number;\n  }>(),\n  {\n    currentPage: 1,\n    pageSize: 20,\n  }\n);\n\nconst modelValue = defineModel<(string | number)[]>(\"modelValue\", {\n  default: () => [],\n});\n\nconst emit = defineEmits<{\n  (e: \"search\"): void;\n  (e: \"loadMore\"): void;\n}>();\n\nconst open = ref(false);\n\nconst VIRTUAL_THRESHOLD = 50;\n\nconst shouldUseVirtual = computed(\n  () => (props.options?.length || 0) > VIRTUAL_THRESHOLD\n);\n\nconst { list, containerProps, wrapperProps } = useVirtualList(\n  computed(() => props.options || []),\n  {\n    itemHeight: 36,\n    overscan: 5,\n  }\n);\n\nconst selectedLabels = computed(() => {\n  if (!modelValue.value || modelValue.value.length === 0) return [];\n  const map = new Map(props.options?.map((o) => [String(o.value), o.label]));\n  return modelValue.value.map((v) => map.get(String(v)) || String(v));\n});\n\nconst toggleSelection = (val: string | number) => {\n  const strVal = String(val);\n  const current = modelValue.value.map(String);\n  const idx = current.indexOf(strVal);\n  let newValue: (string | number)[];\n\n  if (idx > -1) {\n    newValue = [...modelValue.value];\n    newValue.splice(idx, 1);\n  } else {\n    newValue = [...modelValue.value, val];\n  }\n\n  modelValue.value = newValue;\n};\n\nconst handleClear = () => {\n  modelValue.value = [];\n  emit(\"search\");\n};\n\nconst handleLoadMore = () => {\n  emit(\"loadMore\");\n};\n\nconst hasMore = computed(() => {\n  return props.currentPage * props.pageSize < (props.total || 0);\n});\n\nconst triggerClass = computed(() =>\n  cn(\"w-50 justify-between rounded-none\", attrs.class as string)\n);\n</script>\n\n<template>\n  <Popover v-model:open=\"open\">\n    <PopoverTrigger as-child>\n      <Button\n        variant=\"outline\"\n        role=\"combobox\"\n        :aria-expanded=\"open\"\n        :class=\"triggerClass\"\n        :id=\"id\"\n      >\n        <span v-if=\"modelValue.length === 0\" class=\"text-muted-foreground\">\n          {{ placeholder || \"Select\" }}\n        </span>\n        <div\n          v-else-if=\"selectedLabels.length <= 3\"\n          class=\"flex gap-1 overflow-hidden\"\n        >\n          <Badge\n            v-for=\"(label, idx) in selectedLabels\"\n            :key=\"idx\"\n            variant=\"secondary\"\n            class=\"rounded-sm px-1.5 py-0 text-xs font-normal shrink-0\"\n          >\n            {{ label }}\n          </Badge>\n        </div>\n        <Badge\n          v-else\n          variant=\"secondary\"\n          class=\"rounded-sm px-1.5 py-0 text-xs font-normal\"\n        >\n          {{ selectedLabels.length }} selected\n        </Badge>\n        <ChevronsUpDown class=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n      </Button>\n    </PopoverTrigger>\n    <PopoverContent class=\"p-0\" align=\"start\" style=\"width: var(--reka-popper-anchor-width)\">\n      <Command v-if=\"open\">\n        <CommandInput :placeholder=\"placeholder\" :id=\"id\" />\n        <CommandList>\n          <CommandEmpty>No results</CommandEmpty>\n          <CommandGroup>\n            <template v-if=\"options && options.length > 0\">\n              <div v-if=\"shouldUseVirtual\" v-bind=\"containerProps\" class=\"h-64 overflow-auto\">\n                <div v-bind=\"wrapperProps\">\n                  <CommandItem\n                    v-for=\"{ data } in list\"\n                    :key=\"data.value\"\n                    :value=\"data.label\"\n                    @select=\"toggleSelection(data.value)\"\n                    :style=\"{ height: '36px' }\"\n                    class=\"!flex-1 !w-full flex items-center\"\n                  >\n                    <div\n                      class=\"mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary shrink-0\"\n                      :class=\"\n                        modelValue.map(String).includes(String(data.value))\n                          ? 'bg-primary text-primary-foreground'\n                          : 'opacity-50 [&_svg]:invisible'\n                      \"\n                    >\n                      <Check class=\"h-4 w-4\" />\n                    </div>\n                    <span>{{ data.label }}</span>\n                  </CommandItem>\n                </div>\n              </div>\n              <template v-else>\n                <CommandItem\n                  v-for=\"option in options\"\n                  :key=\"option.value\"\n                  :value=\"option.label\"\n                  @select=\"toggleSelection(option.value)\"\n                >\n                  <div\n                    class=\"mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary shrink-0\"\n                    :class=\"\n                      modelValue.map(String).includes(String(option.value))\n                        ? 'bg-primary text-primary-foreground'\n                        : 'opacity-50 [&_svg]:invisible'\n                    \"\n                  >\n                    <Check class=\"h-4 w-4\" />\n                  </div>\n                  <span>{{ option.label }}</span>\n                </CommandItem>\n              </template>\n            </template>\n            <CommandItem\n              v-if=\"hasMore\"\n              :value=\"'{load-more}'\"\n              class=\"justify-center text-center text-muted-foreground\"\n              @select=\"handleLoadMore\"\n            >\n              Load more\n            </CommandItem>\n          </CommandGroup>\n          <template v-if=\"modelValue.length > 0\">\n            <CommandSeparator />\n            <CommandGroup>\n              <CommandItem\n                :value=\"'{clear}'\"\n                class=\"justify-center text-center\"\n                @select=\"handleClear\"\n              >\n                Clear filters\n              </CommandItem>\n            </CommandGroup>\n          </template>\n        </CommandList>\n      </Command>\n    </PopoverContent>\n  </Popover>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/FilterTreeSelect.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref, useAttrs } from \"vue\";\nimport { ChevronsUpDown } from \"lucide-vue-next\";\nimport type { SelectOption } from \"../types\";\nimport FilterTreeSelectOption from \"./FilterTreeSelectOption.vue\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandList,\n  CommandSeparator,\n  CommandItem,\n} from \"@/components/ui/command\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { cn } from \"@/lib/utils\";\n\nconst attrs = useAttrs();\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\nconst props = defineProps<{\n  options?: SelectOption[];\n  placeholder?: string;\n  id?: string;\n}>();\n\nconst modelValue = defineModel<(string | number)[]>(\"modelValue\", {\n  default: () => [],\n});\n\nconst emit = defineEmits<{\n  (e: \"search\"): void;\n}>();\n\nconst open = ref(false);\n\nconst itemMap = computed(() => {\n  const map = new Map<string, SelectOption>();\n  const parentMap = new Map<string, SelectOption | null>();\n\n  const traverse = (opts: SelectOption[], parent: SelectOption | null) => {\n    opts.forEach((opt) => {\n      map.set(String(opt.value), opt);\n      parentMap.set(String(opt.value), parent);\n      if (opt.children) {\n        traverse(opt.children, opt);\n      }\n    });\n  };\n  traverse(props.options || [], null);\n  return { map, parentMap };\n});\n\nconst selectedLabels = computed(() => {\n  if (!modelValue.value || modelValue.value.length === 0) return [];\n  return modelValue.value.map(\n    (v) => itemMap.value.map.get(String(v))?.label || String(v),\n  );\n});\n\nconst handleToggle = (val: string | number) => {\n  const strVal = String(val);\n  const currentSet = new Set(modelValue.value.map(String));\n  const isSelecting = !currentSet.has(strVal);\n\n  const { map, parentMap } = itemMap.value;\n  const targetNode = map.get(strVal);\n  if (!targetNode) return;\n\n  const updateDescendants = (node: SelectOption, select: boolean) => {\n    const nodeStrVal = String(node.value);\n    if (select) currentSet.add(nodeStrVal);\n    else currentSet.delete(nodeStrVal);\n\n    if (node.children) {\n      node.children.forEach((child) => void updateDescendants(child, select));\n    }\n  };\n  updateDescendants(targetNode, isSelecting);\n\n  let currentNode = targetNode;\n  while (true) {\n    const parent = parentMap.get(String(currentNode.value));\n    if (!parent) break;\n\n    const parentStrVal = String(parent.value);\n    const siblings = parent.children || [];\n    const allSiblingsSelected = siblings.every((sib) =>\n      currentSet.has(String(sib.value)),\n    );\n\n    if (allSiblingsSelected) {\n      currentSet.add(parentStrVal);\n    } else {\n      currentSet.delete(parentStrVal);\n    }\n\n    currentNode = parent;\n  }\n\n  modelValue.value = Array.from(currentSet);\n};\n\nconst handleClear = () => {\n  modelValue.value = [];\n  emit(\"search\");\n};\n\nconst triggerClass = computed(() =>\n  cn(\"w-50 justify-between rounded-none\", attrs.class as string),\n);\n</script>\n\n<template>\n  <Popover v-model:open=\"open\">\n    <PopoverTrigger as-child>\n      <Button\n        variant=\"outline\"\n        role=\"combobox\"\n        :aria-expanded=\"open\"\n        :class=\"triggerClass\"\n      >\n        <div class=\"flex gap-1 text-left font-normal overflow-hidden flex-1\">\n          <span\n            v-if=\"modelValue.length === 0\"\n            class=\"text-muted-foreground truncate\"\n            >{{ placeholder || \"Select\" }}</span\n          >\n          <template v-else-if=\"modelValue.length <= 3\">\n            <Badge\n              v-for=\"(label, idx) in selectedLabels\"\n              :key=\"idx\"\n              variant=\"secondary\"\n              class=\"rounded-sm px-1.5 py-0 text-xs font-normal shrink-0\"\n            >\n              {{ label }}\n            </Badge>\n          </template>\n          <Badge\n            v-else\n            variant=\"secondary\"\n            class=\"rounded-sm px-1.5 py-0 text-xs font-normal\"\n          >\n            {{ modelValue.length }} selected\n          </Badge>\n        </div>\n        <ChevronsUpDown class=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n      </Button>\n    </PopoverTrigger>\n    <PopoverContent\n      class=\"p-0\"\n      style=\"width: var(--reka-popper-anchor-width)\"\n      align=\"start\"\n    >\n      <Command>\n        <CommandInput :id=\"id\" :placeholder=\"placeholder\" />\n        <CommandList>\n          <CommandEmpty>No results</CommandEmpty>\n          <CommandGroup>\n            <ScrollArea class=\"h-64\">\n              <FilterTreeSelectOption\n                v-for=\"option in options\"\n                :key=\"option.value\"\n                :option=\"option\"\n                :selected-values=\"modelValue\"\n                @toggle=\"handleToggle\"\n              />\n            </ScrollArea>\n          </CommandGroup>\n          <template v-if=\"modelValue.length > 0\">\n            <CommandSeparator />\n            <CommandGroup>\n              <CommandItem\n                :value=\"'{clear}'\"\n                class=\"justify-center text-center\"\n                @select=\"handleClear\"\n              >\n                Clear filters\n              </CommandItem>\n            </CommandGroup>\n          </template>\n        </CommandList>\n      </Command>\n    </PopoverContent>\n  </Popover>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/FilterTreeSelectOption.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref } from \"vue\";\nimport { ChevronRight, ChevronDown } from \"lucide-vue-next\";\nimport type { SelectOption } from \"../types\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\n\nconst props = defineProps<{\n  option: SelectOption;\n  selectedValues: (string | number)[];\n  level?: number;\n}>();\n\nconst emit = defineEmits<{\n  (e: \"toggle\", value: string | number): void;\n}>();\n\nconst isExpanded = ref(false);\nconst currentLevel = props.level || 0;\n\nconst isSelected = computed(() =>\n  props.selectedValues.includes(props.option.value)\n);\n\nconst hasChildren = computed(\n  () => props.option.children && props.option.children.length > 0\n);\n\nconst handleToggleExpand = () => {\n  if (hasChildren.value) {\n    isExpanded.value = !isExpanded.value;\n  }\n};\n\nconst handleCheckboxChange = () => {\n  emit(\"toggle\", props.option.value);\n};\n\nconst handleChildToggle = (val: string | number) => {\n  emit(\"toggle\", val);\n};\n</script>\n\n<template>\n  <div>\n    <div\n      class=\"flex items-center py-1 px-2 hover:bg-accent hover:text-accent-foreground cursor-pointer\"\n      :style=\"{ paddingLeft: `${currentLevel * 16 + 8}px` }\"\n      @click.stop=\"handleToggleExpand\"\n    >\n      <button\n        v-if=\"hasChildren\"\n        class=\"mr-1 h-4 w-4 shrink-0 rounded-sm hover:bg-muted flex items-center justify-center p-0\"\n        @click.stop=\"handleToggleExpand\"\n      >\n        <ChevronDown v-if=\"isExpanded\" class=\"h-3 w-3\" />\n        <ChevronRight v-else class=\"h-3 w-3\" />\n      </button>\n      <span v-else class=\"mr-1 w-4\"></span>\n\n      <Checkbox\n        :id=\"`tree-node-${option.value}`\"\n        :model-value=\"isSelected\"\n        class=\"mr-2\"\n        @update:model-value=\"handleCheckboxChange\"\n      />\n\n      <span class=\"text-sm select-none truncate\">\n        {{ option.label }}\n      </span>\n    </div>\n\n    <div v-if=\"isExpanded && hasChildren\">\n      <FilterTreeSelectOption\n        v-for=\"child in option.children\"\n        :key=\"child.value\"\n        :option=\"child\"\n        :selected-values=\"selectedValues\"\n        :level=\"currentLevel + 1\"\n        @toggle=\"handleChildToggle\"\n      />\n    </div>\n  </div>\n</template>\n",
      "type": "registry:component"
    },
    {
      "path": "registry/default/smart-search-input/FilterCascadeSelect.vue",
      "content": "<script setup lang=\"ts\">\nimport { computed, ref, useAttrs } from \"vue\";\nimport { ChevronRight, ChevronsUpDown } from \"lucide-vue-next\";\nimport type { SelectOption } from \"../types\";\nimport { cn } from \"@/lib/utils\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\n\nconst attrs = useAttrs();\n\ndefineOptions({\n  inheritAttrs: false,\n});\n\nexport type CascadeValue = {\n  level1?: string;\n  level2?: string;\n};\n\nconst props = defineProps<{\n  level1Options?: SelectOption[];\n  placeholder?: string;\n  id?: string;\n  level1Label?: string;\n  level2Label?: string;\n  loadChildren?: (parentId: string) => Promise<SelectOption[]>;\n}>();\n\nconst modelValue = defineModel<CascadeValue>(\"modelValue\", {\n  default: () => ({}),\n});\n\nconst emit = defineEmits<{\n  (e: \"loadChildren\", parentId: string): void;\n}>();\n\nconst open = ref(false);\nconst activeLevel1 = ref<SelectOption | null>(null);\nconst level2Options = ref<SelectOption[]>([]);\nconst loadingLevel2 = ref(false);\n\n// Display text for trigger\nconst displayText = computed(() => {\n  if (!modelValue.value.level1) return \"\";\n\n  const level1Item = props.level1Options?.find(\n    (o) => String(o.value) === modelValue.value.level1\n  );\n  const level1Label = level1Item?.label || modelValue.value.level1;\n\n  if (!modelValue.value.level2) return level1Label;\n\n  const level2Item = level2Options.value.find(\n    (o) => String(o.value) === modelValue.value.level2\n  );\n  const level2Label = level2Item?.label || modelValue.value.level2;\n\n  return `${level1Label} / ${level2Label}`;\n});\n\nconst handleLevel1Click = async (option: SelectOption) => {\n  // Skip if same option clicked\n  if (activeLevel1.value?.value === option.value) return;\n\n  activeLevel1.value = option;\n  level2Options.value = [];\n\n  // Update model value\n  modelValue.value = {\n    level1: String(option.value),\n    level2: undefined,\n  };\n\n  // Check if has children\n  const hasChildren =\n    (option.children && option.children.length > 0) ||\n    option.childrenSize! > 0;\n\n  if (!hasChildren) {\n    // No children, close popover\n    open.value = false;\n  } else if (option.children && option.children.length > 0) {\n    // Children already loaded\n    level2Options.value = option.children;\n  } else {\n    // Load children\n    const parentId = String(option.id);\n    loadingLevel2.value = true;\n\n    if (props.loadChildren) {\n      // Use helper function\n      try {\n        const options = await props.loadChildren(parentId);\n        level2Options.value = options;\n      } catch (error) {\n        console.error(\"Failed to load children\", error);\n      }\n    } else {\n      // Fallback to emit\n      emit(\"loadChildren\", parentId);\n    }\n\n    loadingLevel2.value = false;\n  }\n};\n\nconst handleLevel2Click = (option: SelectOption) => {\n  modelValue.value = {\n    level1: String(activeLevel1.value?.value),\n    level2: String(option.value),\n  };\n  open.value = false;\n};\n\n// Method to set level2 options externally (deprecated buy kept for backward compatibility if needed)\nconst setLevel2Options = (options: SelectOption[]) => {\n  level2Options.value = options;\n  loadingLevel2.value = false;\n};\n\ndefineExpose({\n  setLevel2Options,\n});\n\nconst triggerClass = computed(() =>\n  cn(\"w-50 justify-between rounded-none\", attrs.class as string)\n);\n</script>\n\n<template>\n  <Popover v-model:open=\"open\">\n    <PopoverTrigger as-child>\n      <Button\n        variant=\"outline\"\n        role=\"combobox\"\n        :aria-expanded=\"open\"\n        :class=\"triggerClass\"\n        :id=\"id\"\n      >\n        <span v-if=\"!displayText\" class=\"text-muted-foreground truncate\">\n          {{ placeholder || \"Select\" }}\n        </span>\n        <Badge\n          v-else\n          variant=\"secondary\"\n          class=\"rounded-sm px-1.5 py-0 text-xs font-normal truncate max-w-full\"\n        >\n          {{ displayText }}\n        </Badge>\n        <ChevronsUpDown class=\"ml-2 h-4 w-4 shrink-0 text-muted-foreground\" />\n      </Button>\n    </PopoverTrigger>\n    <PopoverContent class=\"w-80 p-0\" align=\"start\">\n      <div class=\"flex\">\n        <!-- Level 1 Column -->\n        <div class=\"w-1/2 border-r\">\n          <div\n            class=\"px-2 py-1.5 text-xs font-medium text-muted-foreground border-b\"\n          >\n            {{ level1Label }}\n          </div>\n          <ScrollArea class=\"h-64\">\n            <div\n              v-for=\"option in level1Options\"\n              :key=\"option.value\"\n              class=\"flex items-center justify-between px-2 py-1.5 cursor-pointer hover:bg-muted/50 transition-colors\"\n              :class=\"{\n                'bg-muted': activeLevel1?.value === option.value,\n                'text-primary': modelValue.level1 === String(option.value),\n              }\"\n              @click=\"handleLevel1Click(option)\"\n            >\n              <span class=\"text-sm truncate\">{{ option.label }}</span>\n              <ChevronRight\n                v-if=\"(option as any).childrenSize > 0 || option.children?.length\"\n                class=\"h-4 w-4 shrink-0 opacity-50\"\n              />\n            </div>\n          </ScrollArea>\n        </div>\n\n        <!-- Level 2 Column -->\n        <div class=\"w-1/2\">\n          <div\n            class=\"px-2 py-1.5 text-xs font-medium text-muted-foreground border-b\"\n          >\n            {{ level2Label }}\n          </div>\n          <ScrollArea class=\"h-64\">\n            <div\n              v-if=\"loadingLevel2\"\n              class=\"flex items-center justify-center h-20\"\n            >\n              <span class=\"text-sm text-muted-foreground\">{{\n                \"Loading\"\n              }}</span>\n            </div>\n            <template v-else-if=\"level2Options.length > 0\">\n              <div\n                v-for=\"option in level2Options\"\n                :key=\"option.value\"\n                class=\"px-2 py-1.5 cursor-pointer hover:bg-muted/50 transition-colors\"\n                :class=\"{\n                  'text-primary': modelValue.level2 === String(option.value),\n                }\"\n                @click=\"handleLevel2Click(option)\"\n              >\n                <span class=\"text-sm\">{{ option.label }}</span>\n              </div>\n            </template>\n            <div v-else class=\"flex items-center justify-center p-2\">\n              <span class=\"text-sm text-muted-foreground\">\n                {{\n                  activeLevel1\n                    ? \"No data\"\n                    : \"Select level 1 first\"\n                }}\n              </span>\n            </div>\n          </ScrollArea>\n        </div>\n      </div>\n    </PopoverContent>\n  </Popover>\n</template>\n",
      "type": "registry:component"
    }
  ]
}